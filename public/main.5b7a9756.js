parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"IK8K":[function(require,module,exports) {
"use strict";!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function t(t,n,o){var r,i=new Promise(function(i,u){e(r=t[n].apply(t,o)).then(i,u)});return i.request=r,i}function n(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return t(this[n],r,arguments)})})}function r(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function i(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return e=this[n],(o=t(e,r,arguments)).then(function(e){if(e)return new c(e,o.request)});var e,o})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function s(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function a(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function f(e){this._db=e}n(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var n=this,o=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,o),e(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),s.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},n(s,"_store",["name","keyPath","indexNames","autoIncrement"]),o(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),r(s,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},n(p,"_tx",["objectStoreNames","mode"]),r(p,"_tx",IDBTransaction,["abort"]),a.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},n(a,"_db",["name","version","objectStoreNames"]),r(a,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},n(f,"_db",["name","version","objectStoreNames"]),r(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[s,u].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),o=n[n.length-1],r=this._store||this._index,i=r[e].apply(r,n.slice(0,-1));i.onsuccess=function(){o(i.result)}})})}),[u,s].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise(function(r){n.iterateCursor(e,function(e){e?(o.push(e.value),void 0===t||o.length!=t?e.continue():r(o)):r(o)})})})});var d={open:function(e,n,o){var r=t(indexedDB,"open",[e,n]),i=r.request;return i&&(i.onupgradeneeded=function(e){o&&o(new a(i.result,e.oldVersion,i.transaction))}),r.then(function(e){return new f(e)})},delete:function(e){return t(indexedDB,"deleteDatabase",[e])}};"undefined"!=typeof module?(module.exports=d,module.exports.default=module.exports):self.idb=d}(),function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function t(t,n,o){var r,i=new Promise(function(i,u){e(r=t[n].apply(t,o)).then(i,u)});return i.request=r,i}function n(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return t(this[n],r,arguments)})})}function r(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function i(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return e=this[n],(o=t(e,r,arguments)).then(function(e){if(e)return new c(e,o.request)});var e,o})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function s(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function a(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function f(e){this._db=e}n(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var n=this,o=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,o),e(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),s.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},n(s,"_store",["name","keyPath","indexNames","autoIncrement"]),o(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),r(s,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},n(p,"_tx",["objectStoreNames","mode"]),r(p,"_tx",IDBTransaction,["abort"]),a.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},n(a,"_db",["name","version","objectStoreNames"]),r(a,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},n(f,"_db",["name","version","objectStoreNames"]),r(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[s,u].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),o=n[n.length-1],r=this._store||this._index,i=r[e].apply(r,n.slice(0,-1));i.onsuccess=function(){o(i.result)}})})}),[u,s].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise(function(r){n.iterateCursor(e,function(e){e?(o.push(e.value),void 0===t||o.length!=t?e.continue():r(o)):r(o)})})})});var d={open:function(e,n,o){var r=t(indexedDB,"open",[e,n]),i=r.request;return i&&(i.onupgradeneeded=function(e){o&&o(new a(i.result,e.oldVersion,i.transaction))}),r.then(function(e){return new f(e)})},delete:function(e){return t(indexedDB,"deleteDatabase",[e])}};"undefined"!=typeof module?(module.exports=d,module.exports.default=module.exports):self.idb=d}();
},{}],"NJSX":[function(require,module,exports) {
module.exports="/1.b3730744.jpg";
},{}],"i4z2":[function(require,module,exports) {
module.exports="/10.13670488.jpg";
},{}],"dFor":[function(require,module,exports) {
module.exports="/2.68323a1d.jpg";
},{}],"P8tY":[function(require,module,exports) {
module.exports="/3.ccc18cd9.jpg";
},{}],"kPmT":[function(require,module,exports) {
module.exports="/4.174d3dc8.jpg";
},{}],"VqBz":[function(require,module,exports) {
module.exports="/5.e8ee8c5c.jpg";
},{}],"gtVS":[function(require,module,exports) {
module.exports="/6.550aec30.jpg";
},{}],"HYBC":[function(require,module,exports) {
module.exports="/7.4141fbd9.jpg";
},{}],"KW6U":[function(require,module,exports) {
module.exports="/8.d9ca2ba9.jpg";
},{}],"xNmy":[function(require,module,exports) {
module.exports="/9.03352a7a.jpg";
},{}],"m7Bz":[function(require,module,exports) {
module.exports={1:require("./1.jpg"),2:require("./2.jpg"),3:require("./3.jpg"),4:require("./4.jpg"),5:require("./5.jpg"),6:require("./6.jpg"),7:require("./7.jpg"),8:require("./8.jpg"),9:require("./9.jpg"),10:require("./10.jpg")};
},{"./1.jpg":"NJSX","./10.jpg":"i4z2","./2.jpg":"dFor","./3.jpg":"P8tY","./4.jpg":"kPmT","./5.jpg":"VqBz","./6.jpg":"gtVS","./7.jpg":"HYBC","./8.jpg":"KW6U","./9.jpg":"xNmy"}],"P8yk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../img/*.jpg"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o=require("./idb.min.js"),u=function(){function t(){n(this,t)}return a(t,null,[{key:"fetchRestaurants",value:function(e){navigator.onLine?fetch(t.DATABASE_URL).then(function(e){return e.json()}).then(function(t){o.open("restaurantsDB",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore("restaurants",{keyPath:"id"});case 1:e.createObjectStore("reviews",{keyPath:"id"}).createIndex("restaurant","restaurant_id")}}).then(function(e){var n=e.transaction("restaurants","readwrite").objectStore("restaurants");return t.forEach(function(e){n.put(e)}),n.getAll()}),e(null,t)}).catch(function(t){console.log("An error has occurred.",t),e(t,null)}):o.open("restaurantsDB").then(function(e){return e.transaction("restaurants","readonly").objectStore("restaurants").getAll()}).then(function(e){return e}).then(function(t){e(null,t)}).catch(function(t){console.log("An error has occurred.",t),e(t,null)})}},{key:"fetchRestaurantById",value:function(e,n){t.fetchRestaurants(function(t,r){if(t)n(t,null);else{var a=r.find(function(t){return t.id==e});a?n(null,a):n("Restaurant does not exist",null)}})}},{key:"fetchRestaurantByCuisine",value:function(e,n){t.fetchRestaurants(function(t,r){if(t)n(t,null);else{var a=r.filter(function(t){return t.cuisine_type==e});n(null,a)}})}},{key:"fetchRestaurantByNeighborhood",value:function(e,n){t.fetchRestaurants(function(t,r){if(t)n(t,null);else{var a=r.filter(function(t){return t.neighborhood==e});n(null,a)}})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(e,n,r){t.fetchRestaurants(function(t,a){if(t)r(t,null);else{var o=a;"all"!=e&&(o=o.filter(function(t){return t.cuisine_type==e})),"all"!=n&&(o=o.filter(function(e){return e.neighborhood==n})),r(null,o)}})}},{key:"fetchNeighborhoods",value:function(e){t.fetchRestaurants(function(t,n){if(t)e(t,null);else{var r=n.map(function(e,t){return n[t].neighborhood}),a=r.filter(function(e,t){return r.indexOf(e)==t});e(null,a)}})}},{key:"fetchCuisines",value:function(e){t.fetchRestaurants(function(t,n){if(t)e(t,null);else{var r=n.map(function(e,t){return n[t].cuisine_type}),a=r.filter(function(e,t){return r.indexOf(e)==t});e(null,a)}})}},{key:"urlForRestaurant",value:function(e){return"./restaurant.html?id=".concat(e.id)}},{key:"imageUrlForRestaurant",value:function(t){return e.default[t.photograph]}},{key:"mapMarkerForRestaurant",value:function(e,n){var r=new L.marker([e.latlng.lat,e.latlng.lng],{title:e.name,alt:e.name,url:t.urlForRestaurant(e)});return r.addTo(n),r}},{key:"postReview",value:function(e){var n={name:"postReview",data:e,object_type:"review"};if(navigator.onLine||"postReview"!==n.name){var r={name:e.name,rating:e.rating,comments:e.comments,restaurant_id:e.restaurant_id},a={method:"POST",body:JSON.stringify(r),headers:new Headers({"Content-Type":"application/json"})};fetch("http://localhost:1337/reviews",a).then(function(e){var t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():"udpated"}).then(function(e){document.getElementById("review-form-error").remove()}).catch(function(e){return console.warn(e)})}else t.sendDataOnline(n)}},{key:"sendDataOnline",value:function(e){localStorage.setItem("ObjectToSend",JSON.stringify(e.data)),window.addEventListener("online",function(n){null!==JSON.parse(localStorage.getItem("ObjectToSend"))&&("postReview"===e.name&&t.postReview(e.data),localStorage.removeItem("ObjectToSend"))})}},{key:"getReviews",value:function(e){return fetch("http://localhost:1337/reviews?restaurant_id=".concat(e)).then(function(e){return e.json()}).then(function(e){return o.open("restaurantsDB").then(function(t){if(t){var n=t.transaction("reviews","readwrite").objectStore("reviews");Array.isArray(e)?e.forEach(function(e){n.put(e)}):n.put(e)}}),Promise.resolve(e)}).catch(function(n){return console.warn("no connection"),t.getObject("reviews","restaurant",e).then(function(e){return console.log("offline"),Promise.resolve(e)})})}},{key:"updateFavorite",value:function(e,t){var n={is_favorite:!t},r={method:"PUT",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"})};fetch("".concat(this.DATABASE_URL,"/").concat(e),r).then(function(){o.open("restaurantsDB").then(function(n){var r=n.transaction("restaurants","readwrite").objectStore("restaurants");r.get(e).then(function(e){e.is_favorite=t,r.put(e)})})})}},{key:"DATABASE_URL",get:function(){return"http://localhost:".concat(1337,"/restaurants")}}]),t}();exports.default=u;
},{"./idb.min.js":"IK8K","../img/*.jpg":"m7Bz"}],"E6Bk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=()=>({elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null,callback_enter:null,to_webp:!1});const e=function(t){return t.getBoundingClientRect().top+window.pageYOffset-t.ownerDocument.documentElement.clientTop},o=function(t,o,s){return(o===window?window.innerHeight+window.pageYOffset:e(o)+o.offsetHeight)<=e(t)-s},s=function(t){return t.getBoundingClientRect().left+window.pageXOffset-t.ownerDocument.documentElement.clientLeft},n=function(t,e,o){const n=window.innerWidth;return(e===window?n+window.pageXOffset:s(e)+n)<=s(t)-o},i=function(t,o,s){return(o===window?window.pageYOffset:e(o))>=e(t)+s+t.offsetHeight},l=function(t,e,o){return(e===window?window.pageXOffset:s(e))>=s(t)+o+t.offsetWidth};function a(t,e,s){return!(o(t,e,s)||i(t,e,s)||n(t,e,s)||l(t,e,s))}const r=function(t,e){var o;let s=new t(e);try{o=new CustomEvent("LazyLoad::Initialized",{detail:{instance:s}})}catch(n){(o=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:s})}window.dispatchEvent(o)};function c(t,e){if(e)if(e.length)for(let o,s=0;o=e[s];s+=1)r(t,o);else r(t,e)}const d=(t,e)=>e?t.replace(/\.(jpe?g|png)/gi,".webp"):t,u=()=>{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")},_="undefined"!=typeof window,h=_&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),p=_&&"classList"in document.createElement("p"),g=_&&u(),f=(t,e)=>{p?t.classList.add(e):t.className+=(t.className?" ":"")+e},m=(t,e)=>{p?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},w="data-",b="was-processed",v="true",E=(t,e)=>t.getAttribute("data-"+e),T=(t,e,o)=>{var s="data-"+e;null!==o?t.setAttribute(s,o):t.removeAttribute(s)},L=t=>T(t,"was-processed","true"),S=t=>"true"===E(t,"was-processed"),H=function(t,e,o,s){for(let n,i=0;n=t.children[i];i+=1)if("SOURCE"===n.tagName){let t=E(n,o);O(n,e,t,s)}},O=function(t,e,o,s){o&&t.setAttribute(e,d(o,s))},y=(t,e)=>{const o=g&&e.to_webp,s=e.data_srcset,n=t.parentNode;n&&"PICTURE"===n.tagName&&H(n,"srcset",s,o);const i=E(t,e.data_sizes);O(t,"sizes",i);const l=E(t,s);O(t,"srcset",l,o);const a=E(t,e.data_src);O(t,"src",a,o)},k=(t,e)=>{const o=E(t,e.data_src);O(t,"src",o)},N=(t,e)=>{const o=e.data_src,s=E(t,o);H(t,"src",o),O(t,"src",s),t.load()},z=(t,e)=>{const o=g&&e.to_webp,s=E(t,e.data_src),n=E(t,e.data_bg);if(s){let e=d(s,o);t.style.backgroundImage=`url("${e}")`}if(n){let e=d(n,o);t.style.backgroundImage=e}},I={IMG:y,IFRAME:k,VIDEO:N},A=(t,e)=>{const o=t.tagName,s=I[o];s?s(t,e):z(t,e)},C=function(t,e){t&&t(e)},x="load",R="loadeddata",D="error",F=(t,e,o)=>{t.addEventListener(e,o)},M=(t,e,o)=>{t.removeEventListener(e,o)},q=(t,e,o)=>{F(t,"load",e),F(t,"loadeddata",e),F(t,"error",o)},j=(t,e,o)=>{M(t,"load",e),M(t,"loadeddata",e),M(t,"error",o)},P=function(t,e,o){const s=e?o.class_loaded:o.class_error,n=e?o.callback_load:o.callback_error,i=t.target;m(i,o.class_loading),f(i,s),C(n,i)},U=(t,e)=>{const o=n=>{P(n,!0,e),j(t,o,s)},s=n=>{P(n,!1,e),j(t,o,s)};q(t,o,s)},X=["IMG","IFRAME","VIDEO"];function Y(t,e,o){!o&&S(t)||(C(e.callback_enter,t),X.indexOf(t.tagName)>-1&&(U(t,e),f(t,e.class_loading)),A(t,e),L(t),C(e.callback_set,t))}const $=(t,e)=>{for(;e.length;)t.splice(e.pop(),1)},B=function(e){this._settings=Object.assign({},t(),e),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};B.prototype={_loopThroughElements:function(t){const e=this._settings,o=this._elements,s=o?o.length:0;let n,i=[],l=this._isFirstLoop;if(l&&(this._isFirstLoop=!1),0!==s){for(n=0;n<s;n++){let s=o[n];e.skip_invisible&&null===s.offsetParent||(h||t||a(s,e.container,e.threshold))&&(l&&f(s,e.class_initial),this.load(s),i.push(n))}$(o,i)}else this._stopScrollHandler()},_purgeElements:function(){const t=this._elements,e=t.length;let o,s=[];for(o=0;o<e;o++)S(t[o])&&s.push(o);$(t,s)},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},handleScroll:function(){const t=this._settings.throttle;if(0!==t){let e=Date.now(),o=t-(e-this._previousLoopTime);o<=0||o>t?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),o))}else this._loopThroughElements()},loadAll:function(){this._loopThroughElements(!0)},update:function(){this._elements=Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},load:function(t,e){Y(t,this._settings,e)}},_&&c(B,window.lazyLoadOptions);var G=B;exports.default=G;
},{}],"d6sW":[function(require,module,exports) {
"use strict";var e,t,n,a,r=i(require("./dbhelper")),o=i(require("vanilla-lazyload"));function i(e){return e&&e.__esModule?e:{default:e}}var s=[],c={};document.addEventListener("DOMContentLoaded",function(e){f(),u(),d()});var u=function(){r.default.fetchNeighborhoods(function(e,t){e?console.error(e):(c.neighborhoods=t,l())})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.neighborhoods,t=document.getElementById("neighborhoods-select");e.forEach(function(e){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.append(n)})},d=function(){r.default.fetchCuisines(function(e,t){e?console.error(e):(c.cuisines=t,m())})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.cuisines,t=document.getElementById("cuisines-select");e.forEach(function(e){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.append(n)})},f=function(){c.newMap=new L.Map("map",{center:[40.722216,-73.987501],zoom:12,scrollWheelZoom:!1}),L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg70?access_token={mapboxToken}",{mapboxToken:"pk.eyJ1IjoicnJqb3NvbiIsImEiOiJjamx4aHA4Y2owYXUyM3dtY2E3M2lxODFpIn0.kxpNETYtrRDiOihkJGy-eg",maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox.streets"}).addTo(c.newMap),p()},p=function(){var e=document.getElementById("cuisines-select"),t=document.getElementById("neighborhoods-select"),n=e.selectedIndex,a=t.selectedIndex,o=e[n].value,i=t[a].value;r.default.fetchRestaurantByCuisineAndNeighborhood(o,i,function(e,t){e?console.error(e):(v(t),h())})},v=function(e){c.restaurants=[],document.getElementById("restaurants-list").innerHTML="",c.markers&&c.markers.forEach(function(e){return e.remove()}),c.markers=[],c.restaurants=e},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.restaurants,t=document.getElementById("restaurants-list");e.forEach(function(e){t.append(b(e))}),new o.default,g()},b=function(e){var t=document.createElement("li"),n=document.createElement("img");n.className="restaurant-img lazy",n.setAttribute("data-src",r.default.imageUrlForRestaurant(e)),n.alt=e.name,t.append(n);var a=document.createElement("button");a.style.float="right",e.is_favorite?(a.innerHTML="★",a.setAttribute("aria-label","Remove "+e.name+" from list of favorites.")):(a.innerHTML="☆",a.setAttribute("aria-label","Add "+e.name+" to list of favorites.")),a.onclick=function(){e.is_favorite?(a.innerHTML="☆",a.setAttribute("aria-label","Add "+e.name+" to list of favorites.")):(a.innerHTML="★",a.setAttribute("aria-label","Remove "+e.name+" from list of favorites.")),r.default.updateFavorite(e.id,e.is_favorite),e.is_favorite=!e.is_favorite},t.append(a);var o=document.createElement("h3");o.innerHTML=e.name,t.append(o);var i=document.createElement("p");i.innerHTML=e.neighborhood,t.append(i);var s=document.createElement("p");s.innerHTML=e.address,t.append(s);var c=document.createElement("a");return c.innerHTML="View Details",c.setAttribute("aria-label","View Details of "+e.name),c.href=r.default.urlForRestaurant(e),t.append(c),t},g=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.restaurants).forEach(function(e){var t=r.default.mapMarkerForRestaurant(e,c.newMap);t.on("click",function(){window.location.href=t.options.url}),c.markers.push(t)})};
},{"./dbhelper":"P8yk","vanilla-lazyload":"E6Bk"}]},{},["d6sW"], null)
//# sourceMappingURL=/main.5b7a9756.js.map